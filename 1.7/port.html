<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<title>Question 1</title>

<script type="text/javascript">
window.onload = function() {
  var imgs = document.getElementsByTagName('img'), i, img;
  for (i = 0; i < imgs.length; i++) {
    img = imgs[i];
    // center an image if it is the only element of its parent
    if (img.parentElement.childElementCount === 1)
      img.parentElement.style.textAlign = 'center';
  }
};
</script>

<!-- Styles for R syntax highlighter -->
<style type="text/css">
   pre .operator,
   pre .paren {
     color: rgb(104, 118, 135)
   }

   pre .literal {
     color: #990073
   }

   pre .number {
     color: #099;
   }

   pre .comment {
     color: #998;
     font-style: italic
   }

   pre .keyword {
     color: #900;
     font-weight: bold
   }

   pre .identifier {
     color: rgb(0, 0, 0);
   }

   pre .string {
     color: #d14;
   }
</style>

<!-- R syntax highlighter -->
<script type="text/javascript">
var hljs=new function(){function m(p){return p.replace(/&/gm,"&amp;").replace(/</gm,"&lt;")}function f(r,q,p){return RegExp(q,"m"+(r.cI?"i":"")+(p?"g":""))}function b(r){for(var p=0;p<r.childNodes.length;p++){var q=r.childNodes[p];if(q.nodeName=="CODE"){return q}if(!(q.nodeType==3&&q.nodeValue.match(/\s+/))){break}}}function h(t,s){var p="";for(var r=0;r<t.childNodes.length;r++){if(t.childNodes[r].nodeType==3){var q=t.childNodes[r].nodeValue;if(s){q=q.replace(/\n/g,"")}p+=q}else{if(t.childNodes[r].nodeName=="BR"){p+="\n"}else{p+=h(t.childNodes[r])}}}if(/MSIE [678]/.test(navigator.userAgent)){p=p.replace(/\r/g,"\n")}return p}function a(s){var r=s.className.split(/\s+/);r=r.concat(s.parentNode.className.split(/\s+/));for(var q=0;q<r.length;q++){var p=r[q].replace(/^language-/,"");if(e[p]){return p}}}function c(q){var p=[];(function(s,t){for(var r=0;r<s.childNodes.length;r++){if(s.childNodes[r].nodeType==3){t+=s.childNodes[r].nodeValue.length}else{if(s.childNodes[r].nodeName=="BR"){t+=1}else{if(s.childNodes[r].nodeType==1){p.push({event:"start",offset:t,node:s.childNodes[r]});t=arguments.callee(s.childNodes[r],t);p.push({event:"stop",offset:t,node:s.childNodes[r]})}}}}return t})(q,0);return p}function k(y,w,x){var q=0;var z="";var s=[];function u(){if(y.length&&w.length){if(y[0].offset!=w[0].offset){return(y[0].offset<w[0].offset)?y:w}else{return w[0].event=="start"?y:w}}else{return y.length?y:w}}function t(D){var A="<"+D.nodeName.toLowerCase();for(var B=0;B<D.attributes.length;B++){var C=D.attributes[B];A+=" "+C.nodeName.toLowerCase();if(C.value!==undefined&&C.value!==false&&C.value!==null){A+='="'+m(C.value)+'"'}}return A+">"}while(y.length||w.length){var v=u().splice(0,1)[0];z+=m(x.substr(q,v.offset-q));q=v.offset;if(v.event=="start"){z+=t(v.node);s.push(v.node)}else{if(v.event=="stop"){var p,r=s.length;do{r--;p=s[r];z+=("</"+p.nodeName.toLowerCase()+">")}while(p!=v.node);s.splice(r,1);while(r<s.length){z+=t(s[r]);r++}}}}return z+m(x.substr(q))}function j(){function q(x,y,v){if(x.compiled){return}var u;var s=[];if(x.k){x.lR=f(y,x.l||hljs.IR,true);for(var w in x.k){if(!x.k.hasOwnProperty(w)){continue}if(x.k[w] instanceof Object){u=x.k[w]}else{u=x.k;w="keyword"}for(var r in u){if(!u.hasOwnProperty(r)){continue}x.k[r]=[w,u[r]];s.push(r)}}}if(!v){if(x.bWK){x.b="\\b("+s.join("|")+")\\s"}x.bR=f(y,x.b?x.b:"\\B|\\b");if(!x.e&&!x.eW){x.e="\\B|\\b"}if(x.e){x.eR=f(y,x.e)}}if(x.i){x.iR=f(y,x.i)}if(x.r===undefined){x.r=1}if(!x.c){x.c=[]}x.compiled=true;for(var t=0;t<x.c.length;t++){if(x.c[t]=="self"){x.c[t]=x}q(x.c[t],y,false)}if(x.starts){q(x.starts,y,false)}}for(var p in e){if(!e.hasOwnProperty(p)){continue}q(e[p].dM,e[p],true)}}function d(B,C){if(!j.called){j();j.called=true}function q(r,M){for(var L=0;L<M.c.length;L++){if((M.c[L].bR.exec(r)||[null])[0]==r){return M.c[L]}}}function v(L,r){if(D[L].e&&D[L].eR.test(r)){return 1}if(D[L].eW){var M=v(L-1,r);return M?M+1:0}return 0}function w(r,L){return L.i&&L.iR.test(r)}function K(N,O){var M=[];for(var L=0;L<N.c.length;L++){M.push(N.c[L].b)}var r=D.length-1;do{if(D[r].e){M.push(D[r].e)}r--}while(D[r+1].eW);if(N.i){M.push(N.i)}return f(O,M.join("|"),true)}function p(M,L){var N=D[D.length-1];if(!N.t){N.t=K(N,E)}N.t.lastIndex=L;var r=N.t.exec(M);return r?[M.substr(L,r.index-L),r[0],false]:[M.substr(L),"",true]}function z(N,r){var L=E.cI?r[0].toLowerCase():r[0];var M=N.k[L];if(M&&M instanceof Array){return M}return false}function F(L,P){L=m(L);if(!P.k){return L}var r="";var O=0;P.lR.lastIndex=0;var M=P.lR.exec(L);while(M){r+=L.substr(O,M.index-O);var N=z(P,M);if(N){x+=N[1];r+='<span class="'+N[0]+'">'+M[0]+"</span>"}else{r+=M[0]}O=P.lR.lastIndex;M=P.lR.exec(L)}return r+L.substr(O,L.length-O)}function J(L,M){if(M.sL&&e[M.sL]){var r=d(M.sL,L);x+=r.keyword_count;return r.value}else{return F(L,M)}}function I(M,r){var L=M.cN?'<span class="'+M.cN+'">':"";if(M.rB){y+=L;M.buffer=""}else{if(M.eB){y+=m(r)+L;M.buffer=""}else{y+=L;M.buffer=r}}D.push(M);A+=M.r}function G(N,M,Q){var R=D[D.length-1];if(Q){y+=J(R.buffer+N,R);return false}var P=q(M,R);if(P){y+=J(R.buffer+N,R);I(P,M);return P.rB}var L=v(D.length-1,M);if(L){var O=R.cN?"</span>":"";if(R.rE){y+=J(R.buffer+N,R)+O}else{if(R.eE){y+=J(R.buffer+N,R)+O+m(M)}else{y+=J(R.buffer+N+M,R)+O}}while(L>1){O=D[D.length-2].cN?"</span>":"";y+=O;L--;D.length--}var r=D[D.length-1];D.length--;D[D.length-1].buffer="";if(r.starts){I(r.starts,"")}return R.rE}if(w(M,R)){throw"Illegal"}}var E=e[B];var D=[E.dM];var A=0;var x=0;var y="";try{var s,u=0;E.dM.buffer="";do{s=p(C,u);var t=G(s[0],s[1],s[2]);u+=s[0].length;if(!t){u+=s[1].length}}while(!s[2]);if(D.length>1){throw"Illegal"}return{r:A,keyword_count:x,value:y}}catch(H){if(H=="Illegal"){return{r:0,keyword_count:0,value:m(C)}}else{throw H}}}function g(t){var p={keyword_count:0,r:0,value:m(t)};var r=p;for(var q in e){if(!e.hasOwnProperty(q)){continue}var s=d(q,t);s.language=q;if(s.keyword_count+s.r>r.keyword_count+r.r){r=s}if(s.keyword_count+s.r>p.keyword_count+p.r){r=p;p=s}}if(r.language){p.second_best=r}return p}function i(r,q,p){if(q){r=r.replace(/^((<[^>]+>|\t)+)/gm,function(t,w,v,u){return w.replace(/\t/g,q)})}if(p){r=r.replace(/\n/g,"<br>")}return r}function n(t,w,r){var x=h(t,r);var v=a(t);var y,s;if(v){y=d(v,x)}else{return}var q=c(t);if(q.length){s=document.createElement("pre");s.innerHTML=y.value;y.value=k(q,c(s),x)}y.value=i(y.value,w,r);var u=t.className;if(!u.match("(\\s|^)(language-)?"+v+"(\\s|$)")){u=u?(u+" "+v):v}if(/MSIE [678]/.test(navigator.userAgent)&&t.tagName=="CODE"&&t.parentNode.tagName=="PRE"){s=t.parentNode;var p=document.createElement("div");p.innerHTML="<pre><code>"+y.value+"</code></pre>";t=p.firstChild.firstChild;p.firstChild.cN=s.cN;s.parentNode.replaceChild(p.firstChild,s)}else{t.innerHTML=y.value}t.className=u;t.result={language:v,kw:y.keyword_count,re:y.r};if(y.second_best){t.second_best={language:y.second_best.language,kw:y.second_best.keyword_count,re:y.second_best.r}}}function o(){if(o.called){return}o.called=true;var r=document.getElementsByTagName("pre");for(var p=0;p<r.length;p++){var q=b(r[p]);if(q){n(q,hljs.tabReplace)}}}function l(){if(window.addEventListener){window.addEventListener("DOMContentLoaded",o,false);window.addEventListener("load",o,false)}else{if(window.attachEvent){window.attachEvent("onload",o)}else{window.onload=o}}}var e={};this.LANGUAGES=e;this.highlight=d;this.highlightAuto=g;this.fixMarkup=i;this.highlightBlock=n;this.initHighlighting=o;this.initHighlightingOnLoad=l;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0[xX][a-fA-F0-9]+|(\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.ER="(?![\\s\\S])";this.BE={b:"\\\\.",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE],r:0};this.CLCM={cN:"comment",b:"//",e:"$"};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM={cN:"number",b:this.BNR,r:0};this.inherit=function(r,s){var p={};for(var q in r){p[q]=r[q]}if(s){for(var q in s){p[q]=s[q]}}return p}}();hljs.LANGUAGES.cpp=function(){var a={keyword:{"false":1,"int":1,"float":1,"while":1,"private":1,"char":1,"catch":1,"export":1,virtual:1,operator:2,sizeof:2,dynamic_cast:2,typedef:2,const_cast:2,"const":1,struct:1,"for":1,static_cast:2,union:1,namespace:1,unsigned:1,"long":1,"throw":1,"volatile":2,"static":1,"protected":1,bool:1,template:1,mutable:1,"if":1,"public":1,friend:2,"do":1,"return":1,"goto":1,auto:1,"void":2,"enum":1,"else":1,"break":1,"new":1,extern:1,using:1,"true":1,"class":1,asm:1,"case":1,typeid:1,"short":1,reinterpret_cast:2,"default":1,"double":1,register:1,explicit:1,signed:1,typename:1,"try":1,"this":1,"switch":1,"continue":1,wchar_t:1,inline:1,"delete":1,alignof:1,char16_t:1,char32_t:1,constexpr:1,decltype:1,noexcept:1,nullptr:1,static_assert:1,thread_local:1,restrict:1,_Bool:1,complex:1},built_in:{std:1,string:1,cin:1,cout:1,cerr:1,clog:1,stringstream:1,istringstream:1,ostringstream:1,auto_ptr:1,deque:1,list:1,queue:1,stack:1,vector:1,map:1,set:1,bitset:1,multiset:1,multimap:1,unordered_set:1,unordered_map:1,unordered_multiset:1,unordered_multimap:1,array:1,shared_ptr:1}};return{dM:{k:a,i:"</",c:[hljs.CLCM,hljs.CBLCLM,hljs.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},hljs.CNM,{cN:"preprocessor",b:"#",e:"$"},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:a,r:10,c:["self"]}]}}}();hljs.LANGUAGES.r={dM:{c:[hljs.HCM,{cN:"number",b:"\\b0[xX][0-9a-fA-F]+[Li]?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+(?:[eE][+\\-]?\\d*)?L\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+\\.(?!\\d)(?:i\\b)?",e:hljs.IMMEDIATE_RE,r:1},{cN:"number",b:"\\b\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"keyword",b:"(?:tryCatch|library|setGeneric|setGroupGeneric)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\.",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\d+(?![\\w.])",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\b(?:function)",e:hljs.IMMEDIATE_RE,r:2},{cN:"keyword",b:"(?:if|in|break|next|repeat|else|for|return|switch|while|try|stop|warning|require|attach|detach|source|setMethod|setClass)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"literal",b:"(?:NA|NA_integer_|NA_real_|NA_character_|NA_complex_)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"literal",b:"(?:NULL|TRUE|FALSE|T|F|Inf|NaN)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"identifier",b:"[a-zA-Z.][a-zA-Z0-9._]*\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"<\\-(?!\\s*\\d)",e:hljs.IMMEDIATE_RE,r:2},{cN:"operator",b:"\\->|<\\-",e:hljs.IMMEDIATE_RE,r:1},{cN:"operator",b:"%%|~",e:hljs.IMMEDIATE_RE},{cN:"operator",b:">=|<=|==|!=|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||\\$|:",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"%",e:"%",i:"\\n",r:1},{cN:"identifier",b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[hljs.BE],r:0},{cN:"string",b:"'",e:"'",c:[hljs.BE],r:0},{cN:"paren",b:"[[({\\])}]",e:hljs.IMMEDIATE_RE,r:0}]}};
hljs.initHighlightingOnLoad();
</script>



<style type="text/css">
body, td {
   font-family: sans-serif;
   background-color: white;
   font-size: 13px;
}

body {
  max-width: 800px;
  margin: auto;
  padding: 1em;
  line-height: 20px;
}

tt, code, pre {
   font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace;
}

h1 {
   font-size:2.2em;
}

h2 {
   font-size:1.8em;
}

h3 {
   font-size:1.4em;
}

h4 {
   font-size:1.0em;
}

h5 {
   font-size:0.9em;
}

h6 {
   font-size:0.8em;
}

a:visited {
   color: rgb(50%, 0%, 50%);
}

pre, img {
  max-width: 100%;
}
pre {
  overflow-x: auto;
}
pre code {
   display: block; padding: 0.5em;
}

code {
  font-size: 92%;
  border: 1px solid #ccc;
}

code[class] {
  background-color: #F8F8F8;
}

table, td, th {
  border: none;
}

blockquote {
   color:#666666;
   margin:0;
   padding-left: 1em;
   border-left: 0.5em #EEE solid;
}

hr {
   height: 0px;
   border-bottom: none;
   border-top-width: thin;
   border-top-style: dotted;
   border-top-color: #999999;
}

@media print {
   * {
      background: transparent !important;
      color: black !important;
      filter:none !important;
      -ms-filter: none !important;
   }

   body {
      font-size:12pt;
      max-width:100%;
   }

   a, a:visited {
      text-decoration: underline;
   }

   hr {
      visibility: hidden;
      page-break-before: always;
   }

   pre, blockquote {
      padding-right: 1em;
      page-break-inside: avoid;
   }

   tr, img {
      page-break-inside: avoid;
   }

   img {
      max-width: 100% !important;
   }

   @page :left {
      margin: 15mm 20mm 15mm 10mm;
   }

   @page :right {
      margin: 15mm 10mm 15mm 20mm;
   }

   p, h2, h3 {
      orphans: 3; widows: 3;
   }

   h2, h3 {
      page-break-after: avoid;
   }
}
</style>



</head>

<body>
<p>Financial Evaluation and Investment Strategy<br/>
Portfolio Optimization<br/>
Assignment 1.7</p>

<pre><code class="r">library(quadprog)
library(stockPortfolio)

stocks &lt;- c(
 &quot;SPY&quot;,
 &quot;EFA&quot;,
 &quot;IWM&quot;,
 &quot;VWO&quot;,
 &quot;LQD&quot;,
 &quot;HYG&quot;)

returns &lt;- getReturns(stocks, freq=&quot;week&quot;)
# returns$R - matrix(*,6) - cols are the stocks, rows are the weekly returns 

# covariance of a stock with itself is just its variance.
returns.cov &lt;- cov(returns$R)

# correlation of a stock with itself is always 1.
returns.cor &lt;- cor(returns$R)

spy.var &lt;- var(returns$R[,&quot;SPY&quot;])
spy.sd &lt;- sqrt(spy.var)
efa.var &lt;- var(returns$R[,&quot;EFA&quot;])
efa.sd &lt;- sqrt(efa.var)

# relationship between covariance and correlation
returns.cov[&quot;SPY&quot;,&quot;SPY&quot;] / spy.sd / spy.sd
</code></pre>

<pre><code>## [1] 1
</code></pre>

<pre><code class="r">returns.cov[&quot;SPY&quot;,&quot;EFA&quot;] / spy.sd / efa.sd
</code></pre>

<pre><code>## [1] 0.9051914
</code></pre>

<pre><code class="r">returns.cor[&quot;SPY&quot;,&quot;EFA&quot;] 
</code></pre>

<pre><code>## [1] 0.9051914
</code></pre>

<h3>Question 1</h3>

<p>What&#39;s the min port var / port ret / sharpe when all weights = 0.25 ?</p>

<pre><code class="r">stocks.covar &lt;- matrix( c(
                            0.0369,0.0522,0.0513,0.0406,
                            0.0522,0.1552,0.1105,0.0576,
                            0.0513,0.1105,0.1116,0.0526,
                            0.0406,0.0576,0.0526,0.0506 ),
                        nrow=4 )
stocks.er &lt;- matrix( c( 
                        11.20,
                        19.00,
                        17.50,
                        11.10 ) / 100,
                     nrow=4)
colnames(stocks.er) &lt;- c(&quot;large&quot;, &quot;small&quot;, &quot;value&quot;, &quot;growth&quot;)
</code></pre>

<pre><code>## Error in `colnames&lt;-`(`*tmp*`, value = c(&quot;large&quot;, &quot;small&quot;, &quot;value&quot;, &quot;growth&quot;: length of &#39;dimnames&#39; [2] not equal to array extent
</code></pre>

<pre><code class="r">stocks.sd &lt;- c( 
                19.20,
                39.40,
                33.40,
                22.50) / 100 
colnames(stocks.sd) &lt;- c(&quot;large&quot;, &quot;small&quot;, &quot;value&quot;, &quot;growth&quot;)
</code></pre>

<pre><code>## Error in `colnames&lt;-`(`*tmp*`, value = c(&quot;large&quot;, &quot;small&quot;, &quot;value&quot;, &quot;growth&quot;: attempt to set &#39;colnames&#39; on an object with less than two dimensions
</code></pre>

<pre><code class="r">## ------------------------------------------------
## What&#39;s the min port var / port ret / sharpe when all weights = 0.25 ?
## ------------------------------------------------

weights &lt;- matrix( c(0.25, 0.25, 0.25, 0.25), nrow=4 )

port.var &lt;- t(weights) %*% stocks.covar %*% weights
port.var
</code></pre>

<pre><code>##            [,1]
## [1,] 0.06774375
</code></pre>

<pre><code class="r">port.sd &lt;- sqrt(port.var)
port.sd
</code></pre>

<pre><code>##           [,1]
## [1,] 0.2602763
</code></pre>

<pre><code class="r">port.ret &lt;- t(weights) %*% stocks.er
port.ret
</code></pre>

<pre><code>##       [,1]
## [1,] 0.147
</code></pre>

<pre><code class="r">riskfree.ret &lt;- 3.5 / 100
port.sharpe &lt;- (port.ret - riskfree.ret) / port.sd
port.sharpe
</code></pre>

<pre><code>##           [,1]
## [1,] 0.4303119
</code></pre>

<h3>Question 1b</h3>

<p>What&#39;s the max port return with similar risk as equally-weighted portfolio above, given you CANNOT short?</p>

<pre><code class="r">source(&quot;eff.frontier.R&quot;)

stocks.er.vec &lt;- t(stocks.er)
colnames(stocks.er.vec) &lt;- c(&quot;large&quot;, &quot;small&quot;, &quot;value&quot;, &quot;growth&quot;)
eff.noshort &lt;- eff.frontier(stocks.covar, stocks.er.vec , short=&quot;no&quot;, risk.free.rate=3.5/100)
</code></pre>

<pre><code>##        [,1]   [,2]   [,3]   [,4]
## [1,] 0.0369 0.0522 0.0513 0.0406
## [2,] 0.0522 0.1552 0.1105 0.0576
## [3,] 0.0513 0.1105 0.1116 0.0526
## [4,] 0.0406 0.0576 0.0526 0.0506
</code></pre>

<pre><code class="r">eff.noshort &lt;- round(eff.noshort,6)

# format(eff.noshort, digits=5, scientific=6)
eff.noshort
</code></pre>

<pre><code>##        large    small    value growth  Std.Dev Exp.Return   sharpe
## 1   1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 2   1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 3   1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 4   1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 5   1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 6   1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 7   1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 8   1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 9   1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 10  1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 11  1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 12  1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 13  1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 14  1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 15  1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 16  1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 17  1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 18  1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 19  1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 20  1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 21  1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 22  1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 23  1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 24  1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 25  1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 26  1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 27  1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 28  1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 29  1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 30  1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 31  1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 32  1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 33  1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 34  1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 35  1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 36  1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 37  1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 38  1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 39  1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 40  1.000000 0.000000 0.000000      0 0.192094   0.112000 0.400846
## 41  0.996579 0.003421 0.000000      0 0.192369   0.112267 0.401660
## 42  0.992132 0.007868 0.000000      0 0.192733   0.112614 0.402700
## 43  0.987685 0.012315 0.000000      0 0.193107   0.112961 0.403718
## 44  0.983238 0.016762 0.000000      0 0.193488   0.113307 0.404715
## 45  0.978791 0.021209 0.000000      0 0.193877   0.113654 0.405691
## 46  0.974344 0.025656 0.000000      0 0.194275   0.114001 0.406646
## 47  0.969897 0.030103 0.000000      0 0.194681   0.114348 0.407580
## 48  0.965450 0.034550 0.000000      0 0.195095   0.114695 0.408493
## 49  0.961003 0.038997 0.000000      0 0.195516   0.115042 0.409386
## 50  0.956556 0.043444 0.000000      0 0.195946   0.115389 0.410259
## 51  0.952109 0.047891 0.000000      0 0.196384   0.115735 0.411111
## 52  0.947662 0.052338 0.000000      0 0.196829   0.116082 0.411942
## 53  0.943216 0.056784 0.000000      0 0.197283   0.116429 0.412754
## 54  0.938769 0.061231 0.000000      0 0.197744   0.116776 0.413546
## 55  0.934322 0.065678 0.000000      0 0.198212   0.117123 0.414318
## 56  0.929875 0.070125 0.000000      0 0.198688   0.117470 0.415071
## 57  0.925428 0.074572 0.000000      0 0.199172   0.117817 0.415804
## 58  0.919184 0.077219 0.003597      0 0.199786   0.118250 0.416694
## 59  0.912237 0.079160 0.008603      0 0.200456   0.118716 0.417629
## 60  0.905290 0.081101 0.013609      0 0.201136   0.119183 0.418538
## 61  0.898342 0.083042 0.018616      0 0.201826   0.119650 0.419422
## 62  0.891395 0.084983 0.023622      0 0.202524   0.120117 0.420280
## 63  0.884448 0.086924 0.028629      0 0.203232   0.120584 0.421114
## 64  0.877500 0.088865 0.033635      0 0.203948   0.121050 0.421923
## 65  0.870553 0.090806 0.038641      0 0.204674   0.121517 0.422708
## 66  0.863606 0.092746 0.043648      0 0.205408   0.121984 0.423470
## 67  0.856659 0.094687 0.048654      0 0.206151   0.122451 0.424208
## 68  0.849711 0.096628 0.053660      0 0.206902   0.122918 0.424924
## 69  0.842764 0.098569 0.058667      0 0.207662   0.123384 0.425616
## 70  0.835817 0.100510 0.063673      0 0.208431   0.123851 0.426287
## 71  0.828869 0.102451 0.068680      0 0.209208   0.124318 0.426935
## 72  0.821922 0.104392 0.073686      0 0.209993   0.124785 0.427562
## 73  0.814975 0.106333 0.078692      0 0.210786   0.125252 0.428167
## 74  0.808027 0.108274 0.083699      0 0.211587   0.125718 0.428752
## 75  0.801080 0.110215 0.088705      0 0.212396   0.126185 0.429316
## 76  0.794133 0.112156 0.093712      0 0.213213   0.126652 0.429860
## 77  0.787185 0.114097 0.098718      0 0.214038   0.127119 0.430385
## 78  0.780238 0.116038 0.103724      0 0.214871   0.127586 0.430890
## 79  0.773291 0.117979 0.108731      0 0.215711   0.128052 0.431375
## 80  0.766343 0.119920 0.113737      0 0.216559   0.128519 0.431842
## 81  0.759396 0.121860 0.118744      0 0.217414   0.128986 0.432291
## 82  0.752449 0.123801 0.123750      0 0.218276   0.129453 0.432721
## 83  0.745501 0.125742 0.128756      0 0.219146   0.129920 0.433134
## 84  0.738554 0.127683 0.133763      0 0.220023   0.130386 0.433529
## 85  0.731607 0.129624 0.138769      0 0.220907   0.130853 0.433907
## 86  0.724659 0.131565 0.143775      0 0.221798   0.131320 0.434269
## 87  0.717712 0.133506 0.148782      0 0.222696   0.131787 0.434614
## 88  0.710765 0.135447 0.153788      0 0.223600   0.132254 0.434943
## 89  0.703818 0.137388 0.158795      0 0.224512   0.132720 0.435257
## 90  0.696870 0.139329 0.163801      0 0.225430   0.133187 0.435555
## 91  0.689923 0.141270 0.168807      0 0.226355   0.133654 0.435837
## 92  0.682976 0.143211 0.173814      0 0.227286   0.134121 0.436105
## 93  0.676028 0.145152 0.178820      0 0.228224   0.134587 0.436359
## 94  0.669081 0.147093 0.183827      0 0.229168   0.135054 0.436598
## 95  0.662134 0.149033 0.188833      0 0.230118   0.135521 0.436824
## 96  0.655186 0.150974 0.193839      0 0.231075   0.135988 0.437036
## 97  0.648239 0.152915 0.198846      0 0.232037   0.136455 0.437235
## 98  0.641292 0.154856 0.203852      0 0.233006   0.136921 0.437420
## 99  0.634344 0.156797 0.208858      0 0.233980   0.137388 0.437593
## 100 0.627397 0.158738 0.213865      0 0.234961   0.137855 0.437754
## 101 0.620450 0.160679 0.218871      0 0.235947   0.138322 0.437903
## 102 0.613502 0.162620 0.223878      0 0.236939   0.138789 0.438039
## 103 0.606555 0.164561 0.228884      0 0.237937   0.139255 0.438164
## 104 0.599608 0.166502 0.233890      0 0.238940   0.139722 0.438278
## 105 0.592660 0.168443 0.238897      0 0.239949   0.140189 0.438381
## 106 0.585713 0.170384 0.243903      0 0.240963   0.140656 0.438472
## 107 0.578766 0.172325 0.248910      0 0.241983   0.141123 0.438554
## 108 0.571818 0.174266 0.253916      0 0.243008   0.141589 0.438625
## 109 0.564871 0.176206 0.258922      0 0.244039   0.142056 0.438686
## 110 0.557924 0.178147 0.263929      0 0.245074   0.142523 0.438737
## 111 0.550977 0.180088 0.268935      0 0.246115   0.142990 0.438778
## 112 0.544029 0.182029 0.273941      0 0.247160   0.143457 0.438811
## 113 0.537082 0.183970 0.278948      0 0.248211   0.143923 0.438834
## 114 0.530135 0.185911 0.283954      0 0.249267   0.144390 0.438848
## 115 0.523187 0.187852 0.288961      0 0.250327   0.144857 0.438854
## 116 0.516240 0.189793 0.293967      0 0.251392   0.145324 0.438851
## 117 0.509293 0.191734 0.298973      0 0.252462   0.145791 0.438840
## 118 0.502345 0.193675 0.303980      0 0.253537   0.146257 0.438821
## 119 0.495398 0.195616 0.308986      0 0.254617   0.146724 0.438794
## 120 0.488451 0.197557 0.313993      0 0.255700   0.147191 0.438759
## 121 0.481503 0.199498 0.318999      0 0.256789   0.147658 0.438717
## 122 0.474556 0.201439 0.324005      0 0.257882   0.148125 0.438668
## 123 0.467609 0.203380 0.329012      0 0.258979   0.148591 0.438612
## 124 0.460661 0.205320 0.334018      0 0.260081   0.149058 0.438549
## 125 0.453714 0.207261 0.339025      0 0.261187   0.149525 0.438479
## 126 0.446767 0.209202 0.344031      0 0.262297   0.149992 0.438403
## 127 0.439819 0.211143 0.349037      0 0.263411   0.150459 0.438320
## 128 0.432872 0.213084 0.354044      0 0.264530   0.150925 0.438232
## 129 0.425925 0.215025 0.359050      0 0.265652   0.151392 0.438137
## 130 0.418978 0.216966 0.364056      0 0.266779   0.151859 0.438037
## 131 0.412030 0.218907 0.369063      0 0.267909   0.152326 0.437930
## 132 0.405083 0.220848 0.374069      0 0.269044   0.152792 0.437819
## 133 0.398136 0.222789 0.379076      0 0.270182   0.153259 0.437702
## 134 0.391188 0.224730 0.384082      0 0.271325   0.153726 0.437580
## 135 0.384241 0.226671 0.389088      0 0.272470   0.154193 0.437452
## 136 0.377294 0.228612 0.394095      0 0.273620   0.154660 0.437320
## 137 0.370346 0.230553 0.399101      0 0.274774   0.155126 0.437184
## 138 0.363399 0.232493 0.404108      0 0.275931   0.155593 0.437042
## 139 0.356452 0.234434 0.409114      0 0.277091   0.156060 0.436896
## 140 0.349504 0.236375 0.414120      0 0.278255   0.156527 0.436746
## 141 0.342557 0.238316 0.419127      0 0.279423   0.156994 0.436591
## 142 0.335610 0.240257 0.424133      0 0.280594   0.157460 0.436433
## 143 0.328662 0.242198 0.429139      0 0.281769   0.157927 0.436270
## 144 0.321715 0.244139 0.434146      0 0.282947   0.158394 0.436104
## 145 0.314768 0.246080 0.439152      0 0.284128   0.158861 0.435933
## 146 0.307820 0.248021 0.444159      0 0.285312   0.159328 0.435760
## 147 0.300873 0.249962 0.449165      0 0.286500   0.159794 0.435582
## 148 0.293926 0.251903 0.454171      0 0.287691   0.160261 0.435402
## 149 0.286978 0.253844 0.459178      0 0.288885   0.160728 0.435218
## 150 0.280031 0.255785 0.464184      0 0.290083   0.161195 0.435031
## 151 0.273084 0.257726 0.469191      0 0.291283   0.161662 0.434840
## 152 0.266137 0.259667 0.474197      0 0.292486   0.162128 0.434647
## 153 0.259189 0.261607 0.479203      0 0.293693   0.162595 0.434451
## 154 0.252242 0.263548 0.484210      0 0.294902   0.163062 0.434252
## 155 0.245295 0.265489 0.489216      0 0.296115   0.163529 0.434051
## 156 0.238347 0.267430 0.494222      0 0.297330   0.163996 0.433847
## 157 0.231400 0.269371 0.499229      0 0.298548   0.164462 0.433640
## 158 0.224453 0.271312 0.504235      0 0.299769   0.164929 0.433431
## 159 0.217505 0.273253 0.509242      0 0.300993   0.165396 0.433220
## 160 0.210558 0.275194 0.514248      0 0.302219   0.165863 0.433006
## 161 0.203611 0.277135 0.519254      0 0.303449   0.166330 0.432790
## 162 0.196663 0.279076 0.524261      0 0.304681   0.166796 0.432572
## 163 0.189716 0.281017 0.529267      0 0.305915   0.167263 0.432352
## 164 0.182769 0.282958 0.534274      0 0.307153   0.167730 0.432130
## 165 0.175821 0.284899 0.539280      0 0.308392   0.168197 0.431907
## 166 0.168874 0.286840 0.544286      0 0.309635   0.168664 0.431681
## 167 0.161927 0.288780 0.549293      0 0.310880   0.169130 0.431454
## 168 0.154979 0.290721 0.554299      0 0.312127   0.169597 0.431225
## 169 0.148032 0.292662 0.559306      0 0.313377   0.170064 0.430994
## 170 0.141085 0.294603 0.564312      0 0.314630   0.170531 0.430762
## 171 0.134138 0.296544 0.569318      0 0.315885   0.170998 0.430529
## 172 0.127190 0.298485 0.574325      0 0.317142   0.171464 0.430294
## 173 0.120243 0.300426 0.579331      0 0.318402   0.171931 0.430058
## 174 0.113296 0.302367 0.584337      0 0.319664   0.172398 0.429820
## 175 0.106348 0.304308 0.589344      0 0.320928   0.172865 0.429581
## 176 0.099401 0.306249 0.594350      0 0.322194   0.173331 0.429342
## 177 0.092454 0.308190 0.599357      0 0.323463   0.173798 0.429100
## 178 0.085506 0.310131 0.604363      0 0.324734   0.174265 0.428858
## 179 0.078559 0.312072 0.609369      0 0.326008   0.174732 0.428615
## 180 0.071612 0.314013 0.614376      0 0.327283   0.175199 0.428371
## 181 0.064664 0.315954 0.619382      0 0.328561   0.175665 0.428126
## 182 0.057717 0.317894 0.624389      0 0.329840   0.176132 0.427880
## 183 0.050770 0.319835 0.629395      0 0.331122   0.176599 0.427634
## 184 0.043822 0.321776 0.634401      0 0.332406   0.177066 0.427386
## 185 0.036875 0.323717 0.639408      0 0.333692   0.177533 0.427138
## 186 0.029928 0.325658 0.644414      0 0.334980   0.177999 0.426889
## 187 0.022980 0.327599 0.649420      0 0.336270   0.178466 0.426640
## 188 0.016033 0.329540 0.654427      0 0.337562   0.178933 0.426390
## 189 0.009086 0.331481 0.659433      0 0.338856   0.179400 0.426139
## 190 0.002138 0.333422 0.664440      0 0.340152   0.179867 0.425888
## 191 0.000000 0.335153 0.664847      0 0.340598   0.180027 0.425801
## 192 0.000000 0.336790 0.663210      0 0.340667   0.180052 0.425788
## 193 0.000000 0.338428 0.661572      0 0.340736   0.180076 0.425774
## 194 0.000000 0.340066 0.659934      0 0.340805   0.180101 0.425759
## 195 0.000000 0.341703 0.658297      0 0.340875   0.180126 0.425744
## 196 0.000000 0.343341 0.656659      0 0.340945   0.180150 0.425728
## 197 0.000000 0.344978 0.655022      0 0.341016   0.180175 0.425713
## 198 0.000000 0.346616 0.653384      0 0.341086   0.180199 0.425696
## 199 0.000000 0.348253 0.651747      0 0.341158   0.180224 0.425680
## 200 0.000000 0.349891 0.650109      0 0.341229   0.180248 0.425662
## 201 0.000000 0.351528 0.648472      0 0.341301   0.180273 0.425645
</code></pre>

<h3>Question 2</h3>

<p>What&#39;s the max port return with similar risk as equally-weighted portfolio above, given you CAN short?</p>

<pre><code class="r">eff.short &lt;- eff.frontier(stocks.covar, stocks.er.vec, short=&quot;yes&quot;, risk.free.rate=3.5/100)
</code></pre>

<pre><code>##        [,1]   [,2]   [,3]   [,4]
## [1,] 0.0369 0.0522 0.0513 0.0406
## [2,] 0.0522 0.1552 0.1105 0.0576
## [3,] 0.0513 0.1105 0.1116 0.0526
## [4,] 0.0406 0.0576 0.0526 0.0506
</code></pre>

<pre><code class="r">eff.short &lt;- round(eff.short, 6)
eff.short
</code></pre>

<pre><code>##        large    small     value    growth  Std.Dev Exp.Return   sharpe
## 1   2.092625 0.031395 -0.382523 -0.741496 0.170671   0.091091 0.328652
## 2   2.085009 0.033280 -0.377430 -0.740858 0.170677   0.091559 0.331377
## 3   2.077393 0.035165 -0.372337 -0.740221 0.170698   0.092026 0.334075
## 4   2.069777 0.037050 -0.367244 -0.739583 0.170732   0.092493 0.336744
## 5   2.062160 0.038935 -0.362151 -0.738945 0.170780   0.092960 0.339386
## 6   2.054544 0.040821 -0.357058 -0.738307 0.170842   0.093428 0.341999
## 7   2.046928 0.042706 -0.351965 -0.737669 0.170917   0.093895 0.344582
## 8   2.039312 0.044591 -0.346872 -0.737031 0.171006   0.094362 0.347136
## 9   2.031696 0.046476 -0.341779 -0.736393 0.171108   0.094829 0.349659
## 10  2.024080 0.048361 -0.336686 -0.735756 0.171224   0.095297 0.352151
## 11  2.016464 0.050247 -0.331593 -0.735118 0.171354   0.095764 0.354612
## 12  2.008848 0.052132 -0.326500 -0.734480 0.171497   0.096231 0.357040
## 13  2.001232 0.054017 -0.321407 -0.733842 0.171653   0.096699 0.359437
## 14  1.993616 0.055902 -0.316314 -0.733204 0.171823   0.097166 0.361800
## 15  1.985999 0.057787 -0.311220 -0.732566 0.172007   0.097633 0.364131
## 16  1.978383 0.059672 -0.306127 -0.731928 0.172204   0.098100 0.366428
## 17  1.970767 0.061558 -0.301034 -0.731291 0.172414   0.098568 0.368692
## 18  1.963151 0.063443 -0.295941 -0.730653 0.172637   0.099035 0.370921
## 19  1.955535 0.065328 -0.290848 -0.730015 0.172874   0.099502 0.373116
## 20  1.947919 0.067213 -0.285755 -0.729377 0.173124   0.099969 0.375277
## 21  1.940303 0.069098 -0.280662 -0.728739 0.173387   0.100437 0.377403
## 22  1.932687 0.070983 -0.275569 -0.728101 0.173663   0.100904 0.379494
## 23  1.925071 0.072869 -0.270476 -0.727463 0.173952   0.101371 0.381549
## 24  1.917455 0.074754 -0.265383 -0.726825 0.174254   0.101839 0.383570
## 25  1.909838 0.076639 -0.260290 -0.726188 0.174569   0.102306 0.385555
## 26  1.902222 0.078524 -0.255197 -0.725550 0.174896   0.102773 0.387504
## 27  1.894606 0.080409 -0.250104 -0.724912 0.175237   0.103240 0.389418
## 28  1.886990 0.082295 -0.245011 -0.724274 0.175589   0.103708 0.391297
## 29  1.879374 0.084180 -0.239918 -0.723636 0.175955   0.104175 0.393139
## 30  1.871758 0.086065 -0.234825 -0.722998 0.176333   0.104642 0.394947
## 31  1.864142 0.087950 -0.229731 -0.722360 0.176723   0.105109 0.396718
## 32  1.856526 0.089835 -0.224638 -0.721723 0.177126   0.105577 0.398454
## 33  1.848910 0.091720 -0.219545 -0.721085 0.177541   0.106044 0.400155
## 34  1.841293 0.093606 -0.214452 -0.720447 0.177968   0.106511 0.401820
## 35  1.833677 0.095491 -0.209359 -0.719809 0.178408   0.106978 0.403449
## 36  1.826061 0.097376 -0.204266 -0.719171 0.178859   0.107446 0.405044
## 37  1.818445 0.099261 -0.199173 -0.718533 0.179322   0.107913 0.406604
## 38  1.810829 0.101146 -0.194080 -0.717895 0.179797   0.108380 0.408129
## 39  1.803213 0.103032 -0.188987 -0.717258 0.180284   0.108848 0.409619
## 40  1.795597 0.104917 -0.183894 -0.716620 0.180782   0.109315 0.411075
## 41  1.787981 0.106802 -0.178801 -0.715982 0.181292   0.109782 0.412496
## 42  1.780365 0.108687 -0.173708 -0.715344 0.181813   0.110249 0.413884
## 43  1.772749 0.110572 -0.168615 -0.714706 0.182345   0.110717 0.415238
## 44  1.765132 0.112457 -0.163522 -0.714068 0.182889   0.111184 0.416558
## 45  1.757516 0.114343 -0.158429 -0.713430 0.183444   0.111651 0.417845
## 46  1.749900 0.116228 -0.153336 -0.712792 0.184010   0.112118 0.419100
## 47  1.742284 0.118113 -0.148243 -0.712155 0.184586   0.112586 0.420322
## 48  1.734668 0.119998 -0.143149 -0.711517 0.185174   0.113053 0.421511
## 49  1.727052 0.121883 -0.138056 -0.710879 0.185772   0.113520 0.422669
## 50  1.719436 0.123769 -0.132963 -0.710241 0.186381   0.113987 0.423795
## 51  1.711820 0.125654 -0.127870 -0.709603 0.187001   0.114455 0.424890
## 52  1.704204 0.127539 -0.122777 -0.708965 0.187631   0.114922 0.425954
## 53  1.696588 0.129424 -0.117684 -0.708327 0.188271   0.115389 0.426987
## 54  1.688971 0.131309 -0.112591 -0.707690 0.188921   0.115857 0.427991
## 55  1.681355 0.133194 -0.107498 -0.707052 0.189582   0.116324 0.428964
## 56  1.673739 0.135080 -0.102405 -0.706414 0.190252   0.116791 0.429909
## 57  1.666123 0.136965 -0.097312 -0.705776 0.190933   0.117258 0.430824
## 58  1.658507 0.138850 -0.092219 -0.705138 0.191623   0.117726 0.431711
## 59  1.650891 0.140735 -0.087126 -0.704500 0.192322   0.118193 0.432570
## 60  1.643275 0.142620 -0.082033 -0.703862 0.193032   0.118660 0.433401
## 61  1.635659 0.144506 -0.076940 -0.703225 0.193751   0.119127 0.434205
## 62  1.628043 0.146391 -0.071847 -0.702587 0.194479   0.119595 0.434982
## 63  1.620426 0.148276 -0.066754 -0.701949 0.195216   0.120062 0.435732
## 64  1.612810 0.150161 -0.061660 -0.701311 0.195963   0.120529 0.436457
## 65  1.605194 0.152046 -0.056567 -0.700673 0.196718   0.120997 0.437155
## 66  1.597578 0.153931 -0.051474 -0.700035 0.197483   0.121464 0.437829
## 67  1.589962 0.155817 -0.046381 -0.699397 0.198256   0.121931 0.438478
## 68  1.582346 0.157702 -0.041288 -0.698759 0.199038   0.122398 0.439103
## 69  1.574730 0.159587 -0.036195 -0.698122 0.199829   0.122866 0.439703
## 70  1.567114 0.161472 -0.031102 -0.697484 0.200629   0.123333 0.440281
## 71  1.559498 0.163357 -0.026009 -0.696846 0.201436   0.123800 0.440835
## 72  1.551882 0.165242 -0.020916 -0.696208 0.202252   0.124267 0.441367
## 73  1.544265 0.167128 -0.015823 -0.695570 0.203077   0.124735 0.441876
## 74  1.536649 0.169013 -0.010730 -0.694932 0.203909   0.125202 0.442364
## 75  1.529033 0.170898 -0.005637 -0.694294 0.204749   0.125669 0.442830
## 76  1.521417 0.172783 -0.000544 -0.693657 0.205598   0.126136 0.443276
## 77  1.513801 0.174668  0.004549 -0.693019 0.206454   0.126604 0.443701
## 78  1.506185 0.176554  0.009642 -0.692381 0.207318   0.127071 0.444106
## 79  1.498569 0.178439  0.014735 -0.691743 0.208189   0.127538 0.444491
## 80  1.490953 0.180324  0.019828 -0.691105 0.209068   0.128006 0.444857
## 81  1.483337 0.182209  0.024922 -0.690467 0.209955   0.128473 0.445204
## 82  1.475721 0.184094  0.030015 -0.689829 0.210849   0.128940 0.445533
## 83  1.468104 0.185979  0.035108 -0.689192 0.211750   0.129407 0.445844
## 84  1.460488 0.187865  0.040201 -0.688554 0.212658   0.129875 0.446137
## 85  1.452872 0.189750  0.045294 -0.687916 0.213574   0.130342 0.446412
## 86  1.445256 0.191635  0.050387 -0.687278 0.214496   0.130809 0.446671
## 87  1.437640 0.193520  0.055480 -0.686640 0.215425   0.131276 0.446913
## 88  1.430024 0.195405  0.060573 -0.686002 0.216361   0.131744 0.447139
## 89  1.422408 0.197291  0.065666 -0.685364 0.217304   0.132211 0.447350
## 90  1.414792 0.199176  0.070759 -0.684726 0.218254   0.132678 0.447545
## 91  1.407176 0.201061  0.075852 -0.684089 0.219210   0.133146 0.447725
## 92  1.399559 0.202946  0.080945 -0.683451 0.220172   0.133613 0.447890
## 93  1.391943 0.204831  0.086038 -0.682813 0.221141   0.134080 0.448040
## 94  1.384327 0.206716  0.091131 -0.682175 0.222116   0.134547 0.448177
## 95  1.376711 0.208602  0.096224 -0.681537 0.223097   0.135015 0.448300
## 96  1.369095 0.210487  0.101317 -0.680899 0.224085   0.135482 0.448410
## 97  1.361479 0.212372  0.106411 -0.680261 0.225078   0.135949 0.448507
## 98  1.353863 0.214257  0.111504 -0.679624 0.226078   0.136416 0.448591
## 99  1.346247 0.216142  0.116597 -0.678986 0.227083   0.136884 0.448663
## 100 1.338631 0.218028  0.121690 -0.678348 0.228094   0.137351 0.448722
## 101 1.331015 0.219913  0.126783 -0.677710 0.229111   0.137818 0.448770
## 102 1.323398 0.221798  0.131876 -0.677072 0.230134   0.138285 0.448806
## 103 1.315782 0.223683  0.136969 -0.676434 0.231162   0.138753 0.448832
## 104 1.308166 0.225568  0.142062 -0.675796 0.232195   0.139220 0.448846
## 105 1.300550 0.227453  0.147155 -0.675159 0.233235   0.139687 0.448850
## 106 1.292934 0.229339  0.152248 -0.674521 0.234279   0.140155 0.448843
## 107 1.285318 0.231224  0.157341 -0.673883 0.235329   0.140622 0.448827
## 108 1.277702 0.233109  0.162434 -0.673245 0.236384   0.141089 0.448800
## 109 1.270086 0.234994  0.167527 -0.672607 0.237444   0.141556 0.448764
## 110 1.262470 0.236879  0.172620 -0.671969 0.238509   0.142024 0.448719
## 111 1.254854 0.238765  0.177713 -0.671331 0.239579   0.142491 0.448665
## 112 1.247237 0.240650  0.182806 -0.670694 0.240654   0.142958 0.448602
## 113 1.239621 0.242535  0.187899 -0.670056 0.241735   0.143425 0.448531
## 114 1.232005 0.244420  0.192993 -0.669418 0.242819   0.143893 0.448451
## 115 1.224389 0.246305  0.198086 -0.668780 0.243909   0.144360 0.448364
## 116 1.216773 0.248190  0.203179 -0.668142 0.245003   0.144827 0.448268
## 117 1.209157 0.250076  0.208272 -0.667504 0.246102   0.145295 0.448165
## 118 1.201541 0.251961  0.213365 -0.666866 0.247206   0.145762 0.448055
## 119 1.193925 0.253846  0.218458 -0.666228 0.248314   0.146229 0.447938
## 120 1.186309 0.255731  0.223551 -0.665591 0.249426   0.146696 0.447813
## 121 1.178692 0.257616  0.228644 -0.664953 0.250543   0.147164 0.447682
## 122 1.171076 0.259501  0.233737 -0.664315 0.251664   0.147631 0.447544
## 123 1.163460 0.261387  0.238830 -0.663677 0.252790   0.148098 0.447400
## 124 1.155844 0.263272  0.243923 -0.663039 0.253919   0.148565 0.447250
## 125 1.148228 0.265157  0.249016 -0.662401 0.255053   0.149033 0.447094
## 126 1.140612 0.267042  0.254109 -0.661763 0.256191   0.149500 0.446932
## 127 1.132996 0.268927  0.259202 -0.661126 0.257333   0.149967 0.446764
## 128 1.125380 0.270813  0.264295 -0.660488 0.258479   0.150434 0.446591
## 129 1.117764 0.272698  0.269388 -0.659850 0.259629   0.150902 0.446413
## 130 1.110148 0.274583  0.274482 -0.659212 0.260783   0.151369 0.446230
## 131 1.102531 0.276468  0.279575 -0.658574 0.261940   0.151836 0.446042
## 132 1.094915 0.278353  0.284668 -0.657936 0.263102   0.152304 0.445849
## 133 1.087299 0.280238  0.289761 -0.657298 0.264267   0.152771 0.445651
## 134 1.079683 0.282124  0.294854 -0.656661 0.265436   0.153238 0.445449
## 135 1.072067 0.284009  0.299947 -0.656023 0.266608   0.153705 0.445243
## 136 1.064451 0.285894  0.305040 -0.655385 0.267784   0.154173 0.445032
## 137 1.056835 0.287779  0.310133 -0.654747 0.268964   0.154640 0.444818
## 138 1.049219 0.289664  0.315226 -0.654109 0.270147   0.155107 0.444600
## 139 1.041603 0.291550  0.320319 -0.653471 0.271333   0.155574 0.444377
## 140 1.033987 0.293435  0.325412 -0.652833 0.272523   0.156042 0.444152
## 141 1.026370 0.295320  0.330505 -0.652195 0.273717   0.156509 0.443922
## 142 1.018754 0.297205  0.335598 -0.651558 0.274913   0.156976 0.443690
## 143 1.011138 0.299090  0.340691 -0.650920 0.276113   0.157444 0.443454
## 144 1.003522 0.300975  0.345784 -0.650282 0.277316   0.157911 0.443215
## 145 0.995906 0.302861  0.350877 -0.649644 0.278523   0.158378 0.442973
## 146 0.988290 0.304746  0.355970 -0.649006 0.279732   0.158845 0.442728
## 147 0.980674 0.306631  0.361064 -0.648368 0.280945   0.159313 0.442480
## 148 0.973058 0.308516  0.366157 -0.647730 0.282160   0.159780 0.442230
## 149 0.965442 0.310401  0.371250 -0.647093 0.283379   0.160247 0.441977
## 150 0.957825 0.312287  0.376343 -0.646455 0.284601   0.160714 0.441722
## 151 0.950209 0.314172  0.381436 -0.645817 0.285826   0.161182 0.441464
## 152 0.942593 0.316057  0.386529 -0.645179 0.287053   0.161649 0.441204
## 153 0.934977 0.317942  0.391622 -0.644541 0.288284   0.162116 0.440942
## 154 0.927361 0.319827  0.396715 -0.643903 0.289517   0.162583 0.440677
## 155 0.919745 0.321712  0.401808 -0.643265 0.290753   0.163051 0.440411
## 156 0.912129 0.323598  0.406901 -0.642628 0.291992   0.163518 0.440143
## 157 0.904513 0.325483  0.411994 -0.641990 0.293233   0.163985 0.439873
## 158 0.896897 0.327368  0.417087 -0.641352 0.294478   0.164453 0.439601
## 159 0.889281 0.329253  0.422180 -0.640714 0.295725   0.164920 0.439327
## 160 0.881664 0.331138  0.427273 -0.640076 0.296974   0.165387 0.439052
## 161 0.874048 0.333024  0.432366 -0.639438 0.298226   0.165854 0.438775
## 162 0.866432 0.334909  0.437459 -0.638800 0.299481   0.166322 0.438497
## 163 0.858816 0.336794  0.442552 -0.638162 0.300738   0.166789 0.438218
## 164 0.851200 0.338679  0.447646 -0.637525 0.301998   0.167256 0.437937
## 165 0.843584 0.340564  0.452739 -0.636887 0.303260   0.167723 0.437655
## 166 0.835968 0.342449  0.457832 -0.636249 0.304525   0.168191 0.437372
## 167 0.828352 0.344335  0.462925 -0.635611 0.305792   0.168658 0.437088
## 168 0.820736 0.346220  0.468018 -0.634973 0.307062   0.169125 0.436802
## 169 0.813119 0.348105  0.473111 -0.634335 0.308333   0.169593 0.436516
## 170 0.805503 0.349990  0.478204 -0.633697 0.309608   0.170060 0.436229
## 171 0.797887 0.351875  0.483297 -0.633060 0.310884   0.170527 0.435941
## 172 0.790271 0.353760  0.488390 -0.632422 0.312163   0.170994 0.435652
## 173 0.782655 0.355646  0.493483 -0.631784 0.313444   0.171462 0.435362
## 174 0.775039 0.357531  0.498576 -0.631146 0.314727   0.171929 0.435072
## 175 0.767423 0.359416  0.503669 -0.630508 0.316012   0.172396 0.434781
## 176 0.759807 0.361301  0.508762 -0.629870 0.317300   0.172863 0.434490
## 177 0.752191 0.363186  0.513855 -0.629232 0.318589   0.173331 0.434198
## 178 0.744575 0.365072  0.518948 -0.628595 0.319881   0.173798 0.433905
## 179 0.736958 0.366957  0.524041 -0.627957 0.321175   0.174265 0.433612
## 180 0.729342 0.368842  0.529135 -0.627319 0.322471   0.174732 0.433318
## 181 0.721726 0.370727  0.534228 -0.626681 0.323769   0.175200 0.433025
## 182 0.714110 0.372612  0.539321 -0.626043 0.325068   0.175667 0.432730
## 183 0.706494 0.374497  0.544414 -0.625405 0.326370   0.176134 0.432436
## 184 0.698878 0.376383  0.549507 -0.624767 0.327674   0.176602 0.432141
## 185 0.691262 0.378268  0.554600 -0.624129 0.328980   0.177069 0.431846
## 186 0.683646 0.380153  0.559693 -0.623492 0.330288   0.177536 0.431551
## 187 0.676030 0.382038  0.564786 -0.622854 0.331597   0.178003 0.431256
## 188 0.668414 0.383923  0.569879 -0.622216 0.332909   0.178471 0.430961
## 189 0.660797 0.385809  0.574972 -0.621578 0.334222   0.178938 0.430666
## 190 0.653181 0.387694  0.580065 -0.620940 0.335537   0.179405 0.430370
## 191 0.645565 0.389579  0.585158 -0.620302 0.336854   0.179872 0.430075
## 192 0.637949 0.391464  0.590251 -0.619664 0.338173   0.180340 0.429780
## 193 0.630333 0.393349  0.595344 -0.619027 0.339493   0.180807 0.429484
## 194 0.622717 0.395234  0.600437 -0.618389 0.340815   0.181274 0.429189
## 195 0.615101 0.397120  0.605530 -0.617751 0.342139   0.181741 0.428894
## 196 0.607485 0.399005  0.610623 -0.617113 0.343465   0.182209 0.428599
## 197 0.599869 0.400890  0.615717 -0.616475 0.344792   0.182676 0.428305
## 198 0.592252 0.402775  0.620810 -0.615837 0.346121   0.183143 0.428010
## 199 0.584636 0.404660  0.625903 -0.615199 0.347451   0.183611 0.427716
## 200 0.577020 0.406546  0.630996 -0.614562 0.348784   0.184078 0.427422
## 201 0.569404 0.408431  0.636089 -0.613924 0.350117   0.184545 0.427128
</code></pre>

<pre><code class="r">eff.varEquals(eff.short, 0.2603)
</code></pre>

<pre><code>##        large    small    value    growth  Std.Dev Exp.Return   sharpe
## 129 1.117764 0.272698 0.269388 -0.659850 0.259629   0.150902 0.446413
## 130 1.110148 0.274583 0.274482 -0.659212 0.260783   0.151369 0.446230
</code></pre>

<h3>Question 3</h3>

<p>Find the weights that produce the min port variance, given you CANNOT short.</p>

<pre><code class="r"># eff.noshort[ which(eff.noshort$Std.Dev == min(eff.noshort$Std.Dev)), ]
eff.minVariance( eff.noshort )
</code></pre>

<pre><code>##    large small value growth  Std.Dev Exp.Return   sharpe
## 1      1     0     0      0 0.192094      0.112 0.400846
## 2      1     0     0      0 0.192094      0.112 0.400846
## 3      1     0     0      0 0.192094      0.112 0.400846
## 4      1     0     0      0 0.192094      0.112 0.400846
## 5      1     0     0      0 0.192094      0.112 0.400846
## 6      1     0     0      0 0.192094      0.112 0.400846
## 7      1     0     0      0 0.192094      0.112 0.400846
## 8      1     0     0      0 0.192094      0.112 0.400846
## 9      1     0     0      0 0.192094      0.112 0.400846
## 10     1     0     0      0 0.192094      0.112 0.400846
## 11     1     0     0      0 0.192094      0.112 0.400846
## 12     1     0     0      0 0.192094      0.112 0.400846
## 13     1     0     0      0 0.192094      0.112 0.400846
## 14     1     0     0      0 0.192094      0.112 0.400846
## 15     1     0     0      0 0.192094      0.112 0.400846
## 16     1     0     0      0 0.192094      0.112 0.400846
## 17     1     0     0      0 0.192094      0.112 0.400846
## 18     1     0     0      0 0.192094      0.112 0.400846
## 19     1     0     0      0 0.192094      0.112 0.400846
## 20     1     0     0      0 0.192094      0.112 0.400846
## 21     1     0     0      0 0.192094      0.112 0.400846
## 22     1     0     0      0 0.192094      0.112 0.400846
## 23     1     0     0      0 0.192094      0.112 0.400846
## 24     1     0     0      0 0.192094      0.112 0.400846
## 25     1     0     0      0 0.192094      0.112 0.400846
## 26     1     0     0      0 0.192094      0.112 0.400846
## 27     1     0     0      0 0.192094      0.112 0.400846
## 28     1     0     0      0 0.192094      0.112 0.400846
## 29     1     0     0      0 0.192094      0.112 0.400846
## 30     1     0     0      0 0.192094      0.112 0.400846
## 31     1     0     0      0 0.192094      0.112 0.400846
## 32     1     0     0      0 0.192094      0.112 0.400846
## 33     1     0     0      0 0.192094      0.112 0.400846
## 34     1     0     0      0 0.192094      0.112 0.400846
## 35     1     0     0      0 0.192094      0.112 0.400846
## 36     1     0     0      0 0.192094      0.112 0.400846
## 37     1     0     0      0 0.192094      0.112 0.400846
## 38     1     0     0      0 0.192094      0.112 0.400846
## 39     1     0     0      0 0.192094      0.112 0.400846
## 40     1     0     0      0 0.192094      0.112 0.400846
</code></pre>

<h3>Question 4</h3>

<p>Find the weights that produce the max sharpe ratio, given you CANNOT short.</p>

<pre><code class="r"># eff.noshort[ which(eff.noshort$sharpe == max(eff.noshort$sharpe)), ]
eff.maxSharpe( eff.noshort )
</code></pre>

<pre><code>##        large    small    value growth  Std.Dev Exp.Return   sharpe
## 115 0.523187 0.187852 0.288961      0 0.250327   0.144857 0.438854
</code></pre>

</body>

</html>
